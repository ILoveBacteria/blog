<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Github on معین بلاگ</title><link>https://blog.moeinarabi.ir/tags/github/</link><description>Recent content in Github on معین بلاگ</description><generator>Hugo -- gohugo.io</generator><language>fa</language><lastBuildDate>Tue, 28 May 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.moeinarabi.ir/tags/github/index.xml" rel="self" type="application/rss+xml"/><item><title>چرا git pull خوب نیست؟!</title><link>https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/</link><pubDate>Tue, 28 May 2024 00:00:00 +0000</pubDate><guid>https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/</guid><description>&lt;img src="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/cover.jpg" alt="Featured image of post چرا git pull خوب نیست؟!" />&lt;h2 id="مقدمه">مقدمه
&lt;/h2>&lt;blockquote>
&lt;p>چند روز پیش به یه &lt;a class="link" href="https://www.youtube.com/watch?v=xN1-2p06Urc" target="_blank" rel="noopener"
>ویدیو&lt;/a> با عنوان با حال &amp;ldquo;از &lt;code>git pull&lt;/code> هیچ وقت استفاده نکن&amp;rdquo; بر خوردم. با خودم گفتم مگه چه مشکلی می‌تونه داشته باشه؟&lt;/p>
&lt;/blockquote>
&lt;div class="video-wrapper">
&lt;iframe loading="lazy"
src="https://www.youtube.com/embed/xN1-2p06Urc"
allowfullscreen
title="YouTube Video"
>
&lt;/iframe>
&lt;/div>
&lt;h2 id="داستان-از-چه-قراره">داستان از چه قراره؟
&lt;/h2>&lt;p>داستان از این قراره که همه ما وقتی میخوایم آخرین تغییرات یه رپو رو از جایی مثل گیتهاب دریافت کنیم، از دستور &lt;code>git pull&lt;/code> استفاده می‌کنیم. این دستور در اصل دوتا دستور در دل یک دستوره. در اصل وقتی ما دستور &lt;code>git pull&lt;/code> رو اجرا می‌کنیم، اون پشت اول دستور &lt;code>git fetch&lt;/code> اجرا میشه که میاد برنچ ریموتی به اسم &lt;code>&amp;lt;origin&amp;gt;/&amp;lt;branch_name&amp;gt;&lt;/code> رو توی سیستم لوکالمون آپدیت می‌کنه و بعد با دستور &lt;code>git merge&lt;/code> این برنچ رو روی برنچ اصلی با نام &lt;code>&amp;lt;branch_name&amp;gt;&lt;/code> مرج می‌کنه.&lt;/p>
&lt;p>داستان اصلی از اینجا شروع میشه که یک &lt;strong>مرج&lt;/strong> در حال اتفاق افتادنه. حالا اگر یه هم‌تیمی داشته باشیم که روی همون برنچ کامیت زده باشه، اون وقته که اتفاق خوبی نمی‌افته.&lt;/p>
&lt;p>&lt;img src="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/1.jpg"
width="1920"
height="1080"
srcset="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/1_hu7f1f059bdd49d408a7e8eff8b0ab9e89_85382_480x0_resize_q75_box.jpg 480w, https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/1_hu7f1f059bdd49d408a7e8eff8b0ab9e89_85382_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="زمانی که شما دستور pull را اجرا میکنید ولی کامیت دیگری در رپوی ریموت قرار گرفته"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>مثلا در تصویر بالا، ما یه هم‌گروهی به اسم John داریم که هر دومون از کامیت A شروع به کار کردیم. John زودتر از ما کار خودش رو انجام داده، کامیت C رو اعمال کرده و تغییرات رو پوش کرده. حالا اگر ما بخوایم تغییرات خودمون رو پوش کنیم، گیت ارور میده و از ما می‌خواد که قبلش pull انجام بدیم. اگر توی چنین شرایطی &lt;code>pull&lt;/code> انجام بدیم، حتی اگر هم کانفلیکتی رخ نده، دو برنچ لوکال و ریموت مرج میشن. مثل عکس پایین:&lt;/p>
&lt;p>&lt;img src="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/2.png"
width="1920"
height="1080"
srcset="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/2_hudd3c283f9ecc285d29ff63134bd35422_167373_480x0_resize_box_3.png 480w, https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/2_hudd3c283f9ecc285d29ff63134bd35422_167373_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="تولید شدن یک کامیت جدید برای merge"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>یعنی یک کامیت اضافه‌تر!&lt;/p>
&lt;p>حالا همین رو تصور کنید ولی با تعداد رخداد بیشتر. برنچ ما پر میشه از کامیت‌های الکی و اضافی که گراف کامیت‌ها رو کثیف می‌کنه:&lt;/p>
&lt;p>&lt;img src="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/3.png"
width="1920"
height="1080"
srcset="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/3_hu5d993c4e7b34468467bb0b36864186bf_180873_480x0_resize_box_3.png 480w, https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/3_hu5d993c4e7b34468467bb0b36864186bf_180873_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="شلوغ شدن گراف کامیت از کامیت های مرج"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>نکته اینجاست که کانفلیکتی هم اگر نداشته باشیم، این اتفاق می‌افته. پس راه بهتر این جور موقع‌ها چیه؟&lt;/p>
&lt;h2 id="راه-بهتر">راه بهتر
&lt;/h2>&lt;p>به جای اینکه &lt;code>pull&lt;/code> انجام بدیم و مرج اتفاق بیفته، &lt;code>rebase&lt;/code> می‌کنیم. &lt;code>rebase&lt;/code> کردن باعث میشه تغییرات برنچ ریموت پشت سر کامیت ما قرار بگیره:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git pull --rebase
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/4.png"
width="1920"
height="1080"
srcset="https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/4_hue9b66f995038dcf602fac01ead2b1526_159610_480x0_resize_box_3.png 480w, https://blog.moeinarabi.ir/p/why-git-pull-is-not-good/4_hue9b66f995038dcf602fac01ead2b1526_159610_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="بازسازی برنچ لوکال با کامیت های جدید در برنچ ریموت"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>حالا ممکنه سوال پیش بیاد اگر کانفلیکت داشتیم چطور؟&lt;/p>
&lt;p>ناچارن از همون دستور &lt;code>git pull&lt;/code> استفاده می‌کنیم تا &lt;code>resolve&lt;/code> انجام بدیم و بعدش هم مرج.&lt;/p></description></item></channel></rss>